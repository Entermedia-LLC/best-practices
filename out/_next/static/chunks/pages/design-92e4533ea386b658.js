(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71],{6731:function(e,_,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/design",function(){return n(9592)}])},2819:function(e,_,n){"use strict";var t=n(5893),i=n(5675),s=n(1220),a=n.n(s),r=n(2750);_.Z=function(e){var _=e.section,n=e.id,s=e.showLink,o=e.children,l="h".concat(_),d=n||"";return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(l,{className:a().headline,id:d,children:[o,s&&d&&(0,t.jsxs)("a",{href:"#".concat(d),className:a().headline_link,children:[(0,t.jsx)("span",{className:a().headline_link_text,children:d}),(0,t.jsx)("span",{className:a().headline_link_icon,children:(0,t.jsx)(i.default,{src:"/images/icon-link.svg",width:14,height:14,alt:"Link to ".concat(d),loader:r.Z})})]})]})})}},3068:function(e,_,n){"use strict";n.d(_,{Z:function(){return m}});var t=n(5893),i=n(5675),s=n(1664),a=n(2750),r=n(3765),o=n.n(r),l=function(){return(0,t.jsxs)("header",{className:o().header,children:[(0,t.jsx)(s.default,{href:"/",children:(0,t.jsx)("a",{children:(0,t.jsx)(i.default,{src:"images/logo.svg",width:121,height:23,alt:"Logo",loader:a.Z})})}),(0,t.jsxs)("div",{className:o().links,children:[(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://www.entermedia.com/",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(i.default,{src:"images/website.svg",width:16,height:16,alt:"Website",loader:a.Z})})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://twitter.com/entermedia",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(i.default,{src:"images/twitter.svg",width:16,height:16,alt:"Twitter",loader:a.Z})})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://www.facebook.com/entermedia.llc/",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(i.default,{src:"images/facebook.svg",width:16,height:16,alt:"Facebook",loader:a.Z})})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://www.linkedin.com/company/entermedia-llc/",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(i.default,{src:"images/linkedin.svg",width:16,height:16,alt:"LinkedIn",loader:a.Z})})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://github.com/ENTERMEDIA",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(i.default,{src:"images/github.svg",width:16,height:16,alt:"Github",loader:a.Z})})})]}),(0,t.jsx)("a",{href:"https://github.com/Entermedia-LLC/best-practices",target:"_blank",rel:"noreferrer",className:o().button,children:"Contribute on Github"})]})]})},d=(n(6486),[{id:"best-practices",path:"/",title:"Best Practices",children:[{path:"/",id:"audience",title:"Audience"},{path:"/",id:"goal",title:"Goal"},{path:"/",id:"contributing",title:"Contributing"}]},{id:"css",path:"/css",title:"CSS",children:[{path:"/css",id:"philosophy",title:"Philosophy"},{path:"/css",id:"accessibility",title:"Accessibility"},{path:"/css",id:"performance",title:"Performance"},{path:"/css",id:"responsive-design",title:"Responsive Design"},{path:"/css",id:"syntax",title:"Syntax and Formatting"},{path:"/css",id:"documentation",title:"Documentation"},{path:"/css",id:"frameworks",title:"Frameworks"},{path:"/css",id:"further-reading",title:"Further Reading"}]},{id:"js",path:"/js",title:"JavaScript",children:[{id:"style",path:"/js",title:"Code Style, Tooling & Documentation"},{id:"design-patterns",path:"/js",title:"Design Patterns"},{id:"performance",path:"/js",title:"Performance"},{id:"client-side-data",path:"/js",title:"Client-side Data"},{id:"testing",path:"/js",title:"Unit and Integration Testing"},{id:"libraries",path:"/js",title:"Libraries"},{id:"js-react",path:"/js/react",title:"React.js"},{id:"next-js",path:"/js/nextjs",title:"Next.js"},{id:"refresher",path:"/js",title:"Code Reference/Refresher"}]},{id:"markup",path:"/markup",title:"Markup",children:[]},{id:"php",path:"/php",title:"PHP",children:[]},{id:"tools",path:"/tools",title:"Tools",children:[]},{id:"wordpress",path:"/wordpress",title:"WordPress",children:[{id:"performance",path:"/wordpress",title:"Performance"},{id:"wpgraphql",path:"/wordpress",title:"WPGraphQL"}]},{id:"drupal",path:"/drupal",title:"Drupal",children:[]},{id:"design",path:"/design",title:"Project Design",children:[{id:"organization",path:"/design",title:"Organization"},{id:"package-management",path:"/design",title:"Package Management"}]},{id:"qa",path:"/qa",title:"Quality Assurance",children:[{id:"reporting-issues",path:"/qa",title:"Reporting Issues"}]}]),c=n(6541),h=n.n(c),p=function(){var e=function(_,n){var i=_.map((function(_,n){return function(_,n){return(0,t.jsxs)("li",{children:[(0,t.jsx)(s.default,{href:"".concat(_.path,"#").concat(_.id),children:(0,t.jsx)("a",{className:h().sidebar_link,children:_.title})}),_.children&&e(_.children,!0)]},n)}(_,n)})),a=[h().sidebar_list];return n&&a.push(h().sidebar_list__child),(0,t.jsx)("ul",{className:a.join(" "),children:i})};return(0,t.jsx)("aside",{className:h().sidebar,children:(0,t.jsx)("nav",{children:e(d)})})},g=n(7916),u=n.n(g);function m(e){var _=e.children;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l,{}),(0,t.jsx)(p,{}),(0,t.jsx)("main",{className:u().main,children:_})]})}},9592:function(e,_,n){"use strict";n.r(_),n.d(_,{default:function(){return d}});var t=n(5893),i=n(7294),s=n(9008),a=n(3068),r=n(2819),o=n(4725),l=n.n(o);n(1804);function d(){return(0,i.useEffect)((function(){l().highlightAll()}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.default,{children:(0,t.jsx)("title",{children:"Project Design | Entermedia Best Practices"})}),(0,t.jsx)(a.Z,{children:(0,t.jsxs)("section",{children:[(0,t.jsx)(r.Z,{section:"1",children:"Project Design"}),(0,t.jsx)(r.Z,{section:"2",id:"organization",showLink:!0,children:"Theme and Plugin File Organization"}),(0,t.jsx)("p",{children:"File structure unity across themes and plugins improves engineering efficiency and maintainability. We believe the following structure is segmented enough to keep projects organized\u2014and thus maintainable\u2014but also flexible and open ended enough to enable engineers to comfortably modify as necessary. All themes and plugins should derive from this structure:"}),(0,t.jsx)("pre",{children:(0,t.jsx)("code",{className:"language-markup",children:"|- assets/\n  |  |- css/ _______________________________ # See below for details\n  |  |- fonts/ _____________________________ # Custom/hosted fonts\n  |  |- images/ ____________________________ # Theme images\n  |  |- js/ ________________________________ # See below for details\n  |  |- svg/ _______________________________ # Vector images that will be processed into icons\n  |- bin/ __________________________________ # WP-CLI and other scripts\n  |- node_modules/ _________________________ # npm modules\n  |- .editorconfig _________________________ # Editor config settings\n  |- .eslintrc _____________________________ # ESLint config settings\n  |- package.json __________________________ # npm package file"})}),(0,t.jsxs)("p",{children:["The ",(0,t.jsx)("code",{children:"CSS"})," folder is described separately, below to improve readability:"]}),(0,t.jsx)("pre",{children:(0,t.jsx)("code",{className:"language-markup",children:"|- assets/css/\n  |    |- admin/ ___________________________ # CSS for the admin\n  |    |- frontend/ ________________________ # CSS for the front end\n  |       |- base/ _________________________ # CSS at the top of the cascade\n  |       |- components/ ___________________ # Component-level CSS\n  |       |- global/ _______________________ # Variables and configs\n  |       |- layout/ _______________________ # Layout and helper classes\n  |       |- templates/ ____________________ # CSS for specific templates\n  |    |- shared/ __________________________ # Shared CSS between the admin and front end"})}),(0,t.jsxs)("p",{children:["The ",(0,t.jsx)("code",{children:"JS"})," folder is described separately, below to improve readability:"]}),(0,t.jsx)("pre",{children:(0,t.jsx)("code",{className:"language-markup",children:"|- assets/js/\n  |    |- admin/ ___________________________ # JS for the admin\n  |    |- frontend/ ________________________ # JS for the front end\n  |       |- components/ ___________________ # Component-level JS\n  |    |- shared/ __________________________ # Shared JS between the admin and front end"})}),(0,t.jsx)(r.Z,{section:"2",id:"package-management",showLink:!0,children:"Dependencies and Package Management"}),(0,t.jsx)("p",{children:"Projects generally use two different types of dependency management:"}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("a",{href:"https://npmjs.org",target:"_blank",rel:"noreferrer",children:"npm"})," ","is used to manage relevant dependencies."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("a",{href:"https://getcomposer.org",target:"_blank",rel:"noreferrer",children:"Composer"})," ","is used primarily for back-end (i.e. admin or PHP-based) dependencies"]})]}),(0,t.jsx)(r.Z,{section:"3",children:"When and How to Use Packages"}),(0,t.jsxs)("p",{children:["When choosing a third-party library for inclusion in your project, see if it\u2019s available on npm (JavaScript) or Packagist (PHP). Additionally, WordPress plugins and themes are often available on"," ",(0,t.jsx)("a",{href:"https://wpackagist.org/",target:"_blank",rel:"noreferrer",children:"wpackagist.org"}),". Retrieving dependencies from a package repo helps slim down the code in our version control repos, meaning there\u2019s less we need to retrieve when a new engineer starts on a project. It also contributes to easily keeping code up to date with security and performance improvements."]}),(0,t.jsx)("p",{children:"Most package managers differentiate between dependencies and devDependencies:"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"devDependencies are code, often build tools like Webpack or Gulp, needed to get a site to a production-ready state."}),(0,t.jsx)("li",{children:"Dependencies are code actually used in the functioning of the site, like Lodash or Normalize.css."})]}),(0,t.jsx)("p",{children:"Existing projects that weren\u2019t built with package managers in mind offer an opportunity for engineering teams to implement them for all new development. Teams should also estimate and plan around the time needed to retrofit the existing codebase."}),(0,t.jsx)("p",{children:"If you are using a package where the naming and usage isn\u2019t obvious to the average engineer, be sure to document its purpose in the README, style guide, or project documentation."}),(0,t.jsx)(r.Z,{section:"3",children:"Selecting Packages"}),(0,t.jsx)("p",{children:"Packages are often a Matryoshka of their own dependencies. Though this code is almost certainly all open source, it\u2019s not practical to apply the same scrutiny to packages\u2019 code as is expected before selecting WordPress themes and plugins. Effective package selection, therefore, relies on other factors that engineers can quickly evaluate:"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Is the package actively developed and supported?"}),(0,t.jsx)("li",{children:"Does the package have a solid reputation in the community?"}),(0,t.jsx)("li",{children:"How frequently have security issues been reported, and how quickly have they historically been addressed?"}),(0,t.jsx)("li",{children:"Does the package require a small number of dependencies?"}),(0,t.jsx)("li",{children:"How easily could the packages\u2019 code be forked in case it\u2019s abandoned or a critical issue needs to be addressed right away? When evaluating this, consider the package\u2019s open source license along with the ease of modifying the code."})]}),(0,t.jsx)(r.Z,{section:"3",children:"Package Versions and Lock"}),(0,t.jsx)("p",{children:"When installing a package, engineers can specify a version string the package manager uses to select an appropriate package version. Never specify an exact x.y.z version or else security, performance, and functionality upgrades won\u2019t be available. Most third-party packages follow the Semantic Versioning (semver.org) system, where packages\u2019 version numbers are defined in terms of major, minor, and patch levels. Changes to semver-compliant packages are expected to trigger a new major version when breaking backward compatibility."}),(0,t.jsx)("p",{children:"Instead of a full x.y.z version, Specify major & minor versions x.y to minimize the risk of breaking changes being introduced into your project. Start version number strings with a caret (^) for most dependencies, for example ^1.2"}),(0,t.jsx)("p",{children:"For dependencies that don\u2019t use semver, like many WordPress themes and plugins, engineers should still specify major and minor versions x.y. Start version numbers with a tilde (~) for most dependencies."}),(0,t.jsx)("p",{children:"Modern package managers create lock files, such as npm\u2019s \u201cpackage-lock.json\u201d and Composer\u2019s \u201ccomposer.lock\u201d. These files record the package versions each package manager chose to satisfy the version number constraints on the current version of the platform. Lock files should be committed to project version control repos so all engineers can be on the same page."}),(0,t.jsx)(r.Z,{section:"3",children:"Composer Based Project Structure"}),(0,t.jsx)("p",{children:"Here\u2019s how we might structure a project with Composer:"}),(0,t.jsx)("pre",{children:(0,t.jsx)("code",{className:"language-markup",children:"|- composer.json ____________________________ # Define third party dependencies\n  |- wp-config.php ____________________________ # WordPress configuration\n  |- wp/ ______________________________________ # Composer install WordPress here\n  |- wp-content/ ______________________________ # Composer dependencies\n  |  |- themes/ _______________________________ # Themes directory\n  |    |- custom-theme/ _______________________ # Custom theme\n  |  |- plugins/ ______________________________ # Plugins directory\n  |    |- custom-plugin/ ______________________ # Custom plugin"})}),(0,t.jsxs)("p",{children:["Here\u2019s what ",(0,t.jsx)("code",{children:"composer.json"})," might look like with some example plugins:"]}),(0,t.jsx)("pre",{children:(0,t.jsx)("code",{className:"language-json",children:'{\n    "name": "entermedia/project-slug",\n    "description": "Project description",\n    "repositories":[\n      {\n        "type":"composer",\n        "url":"https://wpackagist.org"\n      }\n    ],\n    "extra": {\n      "wordpress-install-dir": "wp"\n    },\n    "require": {\n      "johnpbloch/wordpress": "4.9",\n      "wpackagist-plugin/wordpress-importer": "dev-trunk",\n      "wpackagist-plugin/debug-bar": "dev-trunk",\n      "wpackagist-plugin/debug-bar-extender": "dev-trunk",\n    }\n  }\n  '})})]})})]})}n(4335),n(4277)},2750:function(e,_){"use strict";_.Z=function(e){var _=e.src;return"https://entermedia-llc.github.io/best-practices/".concat(_)}},1220:function(e){e.exports={headline_link_icon:"Headline_headline_link_icon__4OS6G",headline_link_text:"Headline_headline_link_text__pt029",headline_link:"Headline_headline_link__EWxGu"}},3765:function(e){e.exports={header:"Header_header__sgqkZ",button:"Header_button__KpYk3",links:"Header_links__SVcXu"}},6541:function(e){e.exports={sidebar:"Sidebar_sidebar__RJId5",sidebar_list:"Sidebar_sidebar_list__uBvot",sidebar_link:"Sidebar_sidebar_link__8ZxWT",sidebar_list__child:"Sidebar_sidebar_list__child__ys_mL"}},7916:function(e){e.exports={main:"Default_main__v1_uO"}},4277:function(){Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json},4335:function(){Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,_){var n={};n["language-"+_]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[_]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var t={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};t["language-"+_]={pattern:/[\s\S]+/,inside:Prism.languages[_]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:t},Prism.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,_){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[_,"language-"+_],inside:Prism.languages[_]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml}},function(e){e.O(0,[662,247,521,774,888,179],(function(){return _=6731,e(e.s=_);var _}));var _=e.O();_N_E=_}]);